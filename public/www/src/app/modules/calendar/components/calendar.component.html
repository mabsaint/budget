<ng-template #customCellTemplate let-day="day" let-locale="locale">
  <div class="cal-cell-top">

    <span [ngClass]="sum(day.events,'value') > 0 ? 'red' : 'red'" *ngIf='day.events.length > 0'>{{ day.events |
      sum:'value' }} лв.</span>
    <span [ngClass]="day.events[0].total > 0 ? 'cal-day-badge green' : 'cal-day-badge red'" *ngIf='day.events.length > 0'>{{
      day.events[0].total }} лв.</span>
    <span class="cal-day-number">{{ day.date | calendarDate:'monthViewDayNumber':locale }}</span>
  </div>
  <div class="cal-events" *ngIf="day.events.length > 0">
    <div class="cal-event" *ngFor="let event of day.events; trackBy:trackByEventId"
      [ngClass]="event?.cssClass" [mwlCalendarTooltip]="event.title | calendarEventTitle:'monthTooltip':event"
      [tooltipEvent]="event" [tooltipTemplate]="tooltipTemplate" [tooltipAppendToBody]="tooltipAppendToBody"
      mwlDraggable [class.cal-draggable]="event.draggable" dragActiveClass="cal-drag-active" [dropData]="{event: event, draggedFrom: day}"
      [dragAxis]="{x: event.draggable, y: event.draggable}" (mwlClick)="eventClicked ? eventClicked.emit({ event: event }) : ''">
    </div>
  </div>
</ng-template>
<div class="row text-center">
  <div class="col-md-4 text-left">
    <div class="btn btn-primary" mwlCalendarPreviousView [(viewDate)]="viewDate" [view]="view">
      &lt;&lt;
    </div>
    <div class="btn btn-outline-secondary" mwlCalendarToday [(viewDate)]="viewDate">
      Today
    </div>
    <div class="btn btn-primary" mwlCalendarNextView [(viewDate)]="viewDate" [view]="view">
     &gt;&gt;
    </div>
  </div>
  <div class="col-md-8">
    <h3>{{ viewDate | date:'MMMM yyyy'}}</h3>
  </div>
</div>

<mwl-calendar-month-view [viewDate]="viewDate" [events]="events" [cellTemplate]="customCellTemplate">
  >
</mwl-calendar-month-view>
